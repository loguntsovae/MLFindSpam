# üìù –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å —Å–≤–æ–∏ –ø—Ä–∏–º–µ—Ä—ã —Å–æ–æ–±—â–µ–Ω–∏–π

## –ë—ã—Å—Ç—Ä—ã–π —Å–ø–æ—Å–æ–±

1. **–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª —Å –¥–∞–Ω–Ω—ã–º–∏**
   ```bash
   nano data/russian_messages.csv
   # –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ª—é–±–æ–π —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä
   ```

2. **–î–æ–±–∞–≤—å—Ç–µ —Å–≤–æ–∏ –ø—Ä–∏–º–µ—Ä—ã**
   
   –§–æ—Ä–º–∞—Ç —Å—Ç—Ä–æ–∫–∏:
   ```csv
   label,"—Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è",,,
   ```
   
   –ì–¥–µ `label` - —ç—Ç–æ:
   - `ham` - –¥–ª—è –ª–µ–≥–∏—Ç–∏–º–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
   - `spam` - –¥–ª—è —Å–ø–∞–º–∞/–º–æ—à–µ–Ω–Ω–∏—á–µ—Å—Ç–≤–∞

3. **–ü—Ä–∏–º–µ—Ä—ã –¥–æ–±–∞–≤–ª–µ–Ω–∏—è**

   **–î–ª—è –ª–µ–≥–∏—Ç–∏–º–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π (ham):**
   ```csv
   ham,"–ü—Ä–∏–≤–µ—Ç! –ü–æ–¥—Å–∫–∞–∂–∏ –∞–¥—Ä–µ—Å –≤–∞—à–µ–≥–æ –æ—Ñ–∏—Å–∞",,,
   ham,"–î–æ–≥–æ–≤–æ—Ä –ø–æ–¥–ø–∏—Å–∞–Ω, –∂–¥—É –æ–ø–ª–∞—Ç—É –ø–æ —Ä–µ–∫–≤–∏–∑–∏—Ç–∞–º",,,
   ham,"–°–ø–∞—Å–∏–±–æ –∑–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é, –≤—Å–µ –ø–æ–Ω—è—Ç–Ω–æ",,,
   ```

   **–î–ª—è —Å–ø–∞–º–∞:**
   ```csv
   spam,"–í–ù–ò–ú–ê–ù–ò–ï! –í–∞—à –¥–æ–ª–≥ –ø–æ –Ω–∞–ª–æ–≥–∞–º! –û–ø–ª–∞—Ç–∏—Ç–µ —Å—Ä–æ—á–Ω–æ –Ω–∞ site.ru",,,
   spam,"–ó–∞—Ä–∞–±–æ—Ç–∞–π –º–∏–ª–ª–∏–æ–Ω! –ë–µ–∑ –≤–ª–æ–∂–µ–Ω–∏–π! –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ç—É—Ç",,,
   spam,"–í—ã–∏–≥—Ä–∞–ª iPhone! –ü–æ–ª—É—á–∏ –ø—Ä–∏–∑ –ø–æ —Å—Å—ã–ª–∫–µ",,,
   ```

4. **–í–∞–∂–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞**

   ‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω–æ:**
   ```csv
   ham,"–ü—Ä–æ—Å—Ç–æ–π —Ç–µ–∫—Å—Ç –±–µ–∑ –∫–∞–≤—ã—á–µ–∫ –≤–Ω—É—Ç—Ä–∏",,,
   ham,"–¢–µ–∫—Å—Ç —Å –∑–∞–ø—è—Ç–æ–π, –Ω–æ—Ä–º–∞–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç",,,
   spam,"CAPS –∏ –≤–æ—Å–∫–ª–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ –∑–Ω–∞–∫–∏!!!",,,
   ```

   ‚ùå **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ:**
   ```csv
   ham,–¢–µ–∫—Å—Ç –±–µ–∑ –∫–∞–≤—ã—á–µ–∫,,,  # –ó–∞–±—ã–ª–∏ –∫–∞–≤—ã—á–∫–∏!
   spam "–ü—Ä–æ–ø—É—â–µ–Ω–∞ –∑–∞–ø—è—Ç–∞—è",,,  # –ù–µ—Ç –∑–∞–ø—è—Ç–æ–π –ø–æ—Å–ª–µ label
   ```

5. **–ï—Å–ª–∏ –≤ —Ç–µ–∫—Å—Ç–µ –µ—Å—Ç—å –∫–∞–≤—ã—á–∫–∏**
   
   –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–≤–æ–π–Ω—ã–µ –∫–∞–≤—ã—á–∫–∏:
   ```csv
   ham,"–û–Ω —Å–∫–∞–∑–∞–ª ""–ø—Ä–∏–≤–µ—Ç"" –∏ —É—à–µ–ª",,,
   ```

6. **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ñ–∞–π–ª –≤ UTF-8**
   
   –û—á–µ–Ω—å –≤–∞–∂–Ω–æ! –ò–Ω–∞—á–µ —Ä—É—Å—Å–∫–∏–µ —Å–∏–º–≤–æ–ª—ã –Ω–µ –±—É–¥—É—Ç —á–∏—Ç–∞—Ç—å—Å—è.

7. **–û–±–Ω–æ–≤–∏—Ç–µ –¥–∞—Ç–∞—Å–µ—Ç –∏ –ø–µ—Ä–µ–æ–±—É—á–∏—Ç–µ –º–æ–¥–µ–ª—å**
   ```bash
   make russian-train
   ```

## –î–µ—Ç–∞–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± —á–µ—Ä–µ–∑ Python

–°–æ–∑–¥–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç `add_examples.py`:

```python
import pandas as pd
import csv

# –í–∞—à–∏ –Ω–æ–≤—ã–µ –ø—Ä–∏–º–µ—Ä—ã
new_examples = [
    ("ham", "–í—Å—Ç—Ä–µ—á–∞ –∑–∞–≤—Ç—Ä–∞ –≤ 10 —É—Ç—Ä–∞ —É –º–µ—Ç—Ä–æ"),
    ("ham", "–°–ø–∞—Å–∏–±–æ –∑–∞ –∑–∞–∫–∞–∑, –∫—É—Ä—å–µ—Ä –≤—ã–µ—Ö–∞–ª"),
    ("spam", "–°–†–û–ß–ù–ê–Ø –ê–ö–¶–ò–Ø! –°–∫–∏–¥–∫–∞ 99%! –¢–æ–ª—å–∫–æ —Å–µ–≥–æ–¥–Ω—è!"),
    ("spam", "–í–∞–º –æ–¥–æ–±—Ä–µ–Ω –∫—Ä–µ–¥–∏—Ç! –ü–æ–∑–≤–æ–Ω–∏—Ç–µ 8-XXX-XXX-XXXX"),
]

# –î–æ–±–∞–≤–ª—è–µ–º –≤ —Ñ–∞–π–ª
with open('data/russian_messages.csv', 'a', encoding='utf-8', newline='') as f:
    writer = csv.writer(f)
    for label, message in new_examples:
        writer.writerow([label, message, '', '', ''])

print(f"‚úì –î–æ–±–∞–≤–ª–µ–Ω–æ {len(new_examples)} –ø—Ä–∏–º–µ—Ä–æ–≤")
```

–ó–∞–ø—É—Å—Ç–∏—Ç–µ:
```bash
python add_examples.py
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –ø—Ä–∏–º–µ—Ä–æ–≤

–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Ñ–∞–π–ª –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π:

```bash
# –ü–æ–¥—Å—á–µ—Ç —Å—Ç—Ä–æ–∫
wc -l data/russian_messages.csv

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞
head -5 data/russian_messages.csv
tail -5 data/russian_messages.csv

# –ü–æ–∏—Å–∫ –ø—Ä–æ–±–ª–µ–º
python -c "
import pandas as pd
try:
    df = pd.read_csv('data/russian_messages.csv', encoding='utf-8')
    print(f'‚úì –§–∞–π–ª –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π: {len(df)} —Å–æ–æ–±—â–µ–Ω–∏–π')
    print(f'  Ham: {len(df[df.v1==\"ham\"])}')
    print(f'  Spam: {len(df[df.v1==\"spam\"])}')
except Exception as e:
    print(f'‚úó –û—à–∏–±–∫–∞: {e}')
"
```

## –°–æ–≤–µ—Ç—ã –ø–æ —Å–±–æ—Ä—É –ø—Ä–∏–º–µ—Ä–æ–≤

### –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –ª–µ–≥–∏—Ç–∏–º–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π (ham)

- üì± –í–∞—à–∏ —Ä–µ–∞–ª—å–Ω—ã–µ SMS (—É–¥–∞–ª–∏—Ç–µ –ª–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ!)
- üí¨ –¢–∏–ø–∏—á–Ω–∞—è –ø–µ—Ä–µ–ø–∏—Å–∫–∞ —Å –¥—Ä—É–∑—å—è–º–∏
- üè¢ –†–∞–±–æ—á–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- üè• –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ—Ç –≤—Ä–∞—á–µ–π/–∫–ª–∏–Ω–∏–∫
- üöó –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Ç–∞–∫—Å–∏/–¥–æ—Å—Ç–∞–≤–∫–∏
- üì¶ SMS –æ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–æ–≤

### –ò—Å—Ç–æ—á–Ω–∏–∫–∏ —Å–ø–∞–º-—Å–æ–æ–±—â–µ–Ω–∏–π

‚ö†Ô∏è **–ù–ï –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–µ –Ω–æ–º–µ—Ä–∞ –∏ —Å—Å—ã–ª–∫–∏ –º–æ—à–µ–Ω–Ω–∏–∫–æ–≤!**

–í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ:
- –ò–∑–º–µ–Ω–∏—Ç–µ –Ω–æ–º–µ—Ä–∞ –Ω–∞ 8-XXX-XXX-XXXX
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–µ–π–∫–æ–≤—ã–µ –¥–æ–º–µ–Ω—ã: example.com, test.ru
- –°–æ—Ö—Ä–∞–Ω—è–π—Ç–µ —Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç –∏ –ø–∞—Ç—Ç–µ—Ä–Ω—ã, –∞ –Ω–µ —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

### –ë–∞–ª–∞–Ω—Å –¥–∞–Ω–Ω—ã—Ö

–°—Ç–∞—Ä–∞–π—Ç–µ—Å—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –±–∞–ª–∞–Ω—Å:
- **–ò–¥–µ–∞–ª—å–Ω–æ**: 15-20% spam, 80-85% ham (–∫–∞–∫ –≤ —Ä–µ–∞–ª—å–Ω–æ–π –∂–∏–∑–Ω–∏)
- **–ú–∏–Ω–∏–º—É–º**: 50/50 –¥–ª—è –æ–±—É—á–µ–Ω–∏—è

## –ú–∞—Å—Å–æ–≤–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ

–ï—Å–ª–∏ —É –≤–∞—Å –º–Ω–æ–≥–æ –ø—Ä–∏–º–µ—Ä–æ–≤ –≤ Excel/Google Sheets:

1. **–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –≤ CSV**
   - –ö–æ–ª–æ–Ω–∫–∏: `v1`, `v2`, `v3`, `v4`, `v5`
   - `v1` = label (ham/spam)
   - `v2` = —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è
   - `v3-v5` = –æ—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º–∏

2. **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∫–∞–∫ UTF-8**

3. **–û–±—ä–µ–¥–∏–Ω–∏—Ç–µ —Ñ–∞–π–ª—ã**
   ```bash
   # Linux/Mac
   tail -n +2 new_messages.csv >> data/russian_messages.csv
   
   # –ò–ª–∏ —á–µ—Ä–µ–∑ Python
   python -c "
   import pandas as pd
   df1 = pd.read_csv('data/russian_messages.csv')
   df2 = pd.read_csv('new_messages.csv')
   pd.concat([df1, df2]).to_csv('data/russian_messages.csv', index=False)
   "
   ```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –ø—Ä–∏–º–µ—Ä–æ–≤

–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ:

```bash
# 1. –ü–µ—Ä–µ–æ–±—É—á–∏—Ç–µ –º–æ–¥–µ–ª—å
make russian-train

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç—ã
make russian-test

# 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–≤–æ–∏ –ø—Ä–∏–º–µ—Ä—ã –≤—Ä—É—á–Ω—É—é
python src/predict.py "–í–∞—à–µ –Ω–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏"
```

## –¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏

‚ùå **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–æ–¥–∏—Ä–æ–≤–∫–∞**
```
Solution: –°–æ—Ö—Ä–∞–Ω—è–π—Ç–µ –≤ UTF-8, –Ω–µ –≤ Windows-1251
```

‚ùå **–õ–∏—à–Ω–∏–µ –ø—Ä–æ–±–µ–ª—ã/—Å–∏–º–≤–æ–ª—ã**
```
ham,"  –¢–µ–∫—Å—Ç —Å –ø—Ä–æ–±–µ–ª–∞–º–∏  ",,,  # –ü–ª–æ—Ö–æ
ham,"–¢–µ–∫—Å—Ç –±–µ–∑ –ª–∏—à–Ω–∏—Ö –ø—Ä–æ–±–µ–ª–æ–≤",,,  # –•–æ—Ä–æ—à–æ
```

‚ùå **–ù–µ—ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–∞–≤—ã—á–∫–∏**
```
ham,"–û–Ω —Å–∫–∞–∑–∞–ª "–ø—Ä–∏–≤–µ—Ç"",,,  # –û—à–∏–±–∫–∞!
ham,"–û–Ω —Å–∫–∞–∑–∞–ª ""–ø—Ä–∏–≤–µ—Ç""",,,  # –ü—Ä–∞–≤–∏–ª—å–Ω–æ
```

‚ùå **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π label**
```
SPAM,"–¢–µ–∫—Å—Ç",,,  # –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ! –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ lowercase
spam,"–¢–µ–∫—Å—Ç",,,  # –ü—Ä–∞–≤–∏–ª—å–Ω–æ
```

## –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è

–°–æ–∑–¥–∞–π—Ç–µ –∞–ª–∏–∞—Å –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è:

```bash
# –í ~/.zshrc –∏–ª–∏ ~/.bashrc
add_ham() {
    echo "ham,\"$1\",,," >> data/russian_messages.csv
    echo "‚úì –î–æ–±–∞–≤–ª–µ–Ω–æ HAM —Å–æ–æ–±—â–µ–Ω–∏–µ"
}

add_spam() {
    echo "spam,\"$1\",,," >> data/russian_messages.csv
    echo "‚úì –î–æ–±–∞–≤–ª–µ–Ω–æ SPAM —Å–æ–æ–±—â–µ–Ω–∏–µ"
}
```

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
```bash
add_ham "–ü—Ä–∏–≤–µ—Ç! –ö–∞–∫ –¥–µ–ª–∞?"
add_spam "–°–†–û–ß–ù–û! –í—ã–∏–≥—Ä–∞–ª–∏ –º–∏–ª–ª–∏–æ–Ω!"
```

## –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

–°–∫—Ä–∏–ø—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞:

```python
# validate_data.py
import pandas as pd

df = pd.read_csv('data/russian_messages.csv', encoding='utf-8')

print("üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö...")

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—É—Å—Ç—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
if df['v2'].isna().any():
    print("‚ùå –ù–∞–π–¥–µ–Ω—ã –ø—É—Å—Ç—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è!")
    print(df[df['v2'].isna()])

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–µ—Ç–æ–∫
valid_labels = ['ham', 'spam']
invalid = df[~df['v1'].isin(valid_labels)]
if len(invalid) > 0:
    print("‚ùå –ù–∞–π–¥–µ–Ω—ã –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –º–µ—Ç–∫–∏:")
    print(invalid)

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–ª–∏–Ω—ã
short = df[df['v2'].str.len() < 5]
if len(short) > 0:
    print("‚ö†Ô∏è  –°–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è:")
    print(short)

# –î—É–±–ª–∏–∫–∞—Ç—ã
dupes = df[df['v2'].duplicated()]
if len(dupes) > 0:
    print("‚ö†Ô∏è  –ù–∞–π–¥–µ–Ω—ã –¥—É–±–ª–∏–∫–∞—Ç—ã:")
    print(dupes)

print("\n‚úì –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!")
```

---

**–í–æ–ø—Ä–æ—Å—ã?** –°–º. [docs/russian_dataset.md](docs/russian_dataset.md) –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.
